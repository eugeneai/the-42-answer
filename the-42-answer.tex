
\documentclass[12pt,a4paper]{extarticle}
\usepackage{unicode-math}
\usepackage{luatextra}
\defaultfontfeatures{Renderer=Basic, Ligatures=TeX}
\usepackage{ifxetex}
\usepackage{ifluatex}
\usepackage{graphicx}
%\usepackage[english,russian]{babel}
\usepackage{polyglossia}
\usepackage{hyperref}

\ifluatex
  \usepackage{pdftexcmds}
  \makeatletter
  \let\pdfstrcmp\pdf@strcmp
  \let\pdffilemoddate\pdf@filemoddate
  \makeatother
\fi
\usepackage{svg}
% \setsvg{inkscape={"/usr/bin/inkscape"= -z -C}}
\setsvg{inkscape = inkscape -z -D}

% \fontspec{Free Serif}  % Good Times-like
% \setmainfont{CharisSIL} % Russian italik weird.
% \setmainfont{Fira Sans}
% \setmainfont{Free Serif}
\setmainfont{Libertinus Serif}
%\setmainfont{Pomorsky}
\setmonofont{Fira Mono}
% \setmonofont{Source Code Pro}
% \setmathfont{Libertinus Math}
\setmathfont{Tex Gyre Bonum Math}
\newfontfamily{\cyrillicfonttt}{Fira Mono}

\setdefaultlanguage{russian}
\setotherlanguage{english}

\DeclareGraphicsExtensions{.pdf,.png,.jpg}
\graphicspath{ {./pics/} }
\begin{document}

\section{Проблематика MDE}
\label{sec:problem-mde}

Основная проблема разработки программного обеспечения (ПО) -- это сложность,
связанная с большим количеством взаимодействующих гетерогенных компонент в
рамках одного программного комплекса.  В основе каждого компонента находится
модель, являющаяся продуктом анализа предметной области (см. рис.
\ref{fig:mde-gen-schema}), которая должна изменяться в соответствии с изменением
предметной областью.

Качество получаемых программных комплексов (ПК) существенно зависит от
надлежащего \emph{целенаправленного} структурирования моделей ПК.~Т.~е.
методологию ТРИЗ\footnote{Теории рационализации и изобретательства.}, весьма
широко используемую в строительстве и машиностроении, начали использовать только
сейчас при проектировании сложных ПК.~ТРИЗ направляет процесс мышления (arrow
thinking) в конструктивном продуктивном направлении. Автоматный подход и подходы
на интуитивных уточнениях алгоритма недостаточны для выражения структур и
семантики сложных современных систем. Дачные подходы не предоставляют адекватных
методов и инструментов для спецификации и описания межструктурных отношений и
операций над структурами, что является основой современных подходов к разработке
ПО.~В то числе, классическое образование разработчиков, основанное на математике
Бурбаки, является причиной скептицизма по отношению применимости современных
математических подходов в инженерии ПО.

Процесс внесения изменений в ПО представляет собой исправление программного
кода, при этом отображаемая им модель становиться неактуальной.  Основная задача
MDE -- это использование интеллекта разработчика на этапе моделирования, а не
кодирования. Программный код -- это специальнывй вариант модели ПО, являющийся
клнечным шагом последовательного уточнения модели\footnote{Здесь наше понимание
 процессов преобразования MDA PIM в PSM полностью совпадает.}.

Теорию категорий (ТК) следует рассматривать как общую глобальную
теоретическую среду (framework), применимую на всех уровнях моделирования ПО.
Если за основу берется циклическая методика инженерии ПО (Инжерения ПО ->
Информатика -> Математика -> Категорная метаматематика -> Инженерия ПО), то ТК
помещается в центр модели, и это значительно унифицирует процессы моделирования
в инжерении ПО.

\begin{figure}[htbp]
  \centering
  \includegraphics[width=0.5\linewidth]{mde-general}
  \caption{Общая схема MDE}
  \label{fig:mde-gen-schema}
\end{figure}

Система строится из отдельных моделей, которые представляют оригинальный объект.
Объект -- структура целостная, и его компоненты, представленные в виде моделей,
перекрывают друг друга, взаимодействуют друг с другом. Класс моделей включает
модели в виде структурных объектов отображаемых друг в друга. А это основной
феномен категорий -- функтор.

\section{Юниверсум моделей}
\label{sec:mmodcat}

Модели -- это многосортные структуры, являющиеся элементами при построении теории
\emph{метамоделей}.  Рассмотрим обобщенный вид такой теории из [39;20].
Метамодельная категрия $\mathbf{M}=(G_M,C_M)$, где $G_M$ -- граф (или более
общий вариант a priori заданного предпучка топоса $\mathbf{G}$), а
$C_M$ -- \emph{множество ограничений} (т.е. свойства диаграммы\footnote{Специальная
  категория, в т.ч. функтор.}), заданных над $G_M$.  \emph{Экземпляром} метамодели
$\mathbf{M}$ является пара $A = (G_A, t_A)$, где $G_A$ -- это другой граф
(объект в $\mathbf{G}$) и $t_A: G_A \to G_M$ -- отображение (стрелка в
$\mathbf{G}$), которую следует понимать как \emph{определение типа}, которые
удовлетворяют ограничению $A \models C_M$ (более детально в [20]).
\emph{Отображение экземпляров} $A\to B$ -- это отображение графов $f: G_A\to
G_B$, которое совместно с определением типа $f;t_B = t_A$ дает коммутативную
диаграмму.  Эти элементы задают категорию $\mathbf{Mod}(M) \subset
\mathbf{G}/G_M$ $M$-экземпляров.

To deal with the heterogeneous situation of models over different metamodels, мы
вначале определим метамодельные морфизмы $m: M\to N$ как [sketch]-морфизмы,
т.е., отображения графов $m: G_M\to G_N$ совместимые по ограничениям.  Эти
отображения задают категорию $\mathbf{MMod}$.  Теперь можно объединить все
категории $\mathbf{Mod}(M)$ в одну категорию $\mathbf{Mod}$, где объектами
являются экземпляры (= G-стрелки\footnote{Есть категории стрелок, но, вроде, не
  данный случай.}) $t_A: G_A\to G_{M(A)}$,
$t_B: G_B\to G_{M(B)}$ и т.д., причем каждая стрелка имеет свою метамодель, а
морфизмы $f:A\to B$ являются парами $f_{data}: G_A\to G_B$,
$f_{meta}: M(A) \to M(B)$ такие, что $f_{data};t_B = t_A; f_{meta}$, т.е.,
образуют коммутативные квадраты в $\mathbf{G}$.  Таким образом, $\mathbf{Mod}$
-- это подкатегория категории стрелки $\mathbf{G}^{\to}$.

Можно показать, что [[ко]предельный] декартов квадрат (коамальгама), построенный
на действительном экземпляре $t_B: G_B\to G_N$ метамодели $N$ вдоль
[sketch]-морфизма $m:M\to N$ приводит к действительному экземпляру $M$ [20].
Таким образом определяется расслоение $\mathbf{p} : \mathbf{Mod} \to
\mathbf{MMod}$, чей декартов подъем порождается этими предельными декартовыми квадратами.

\section{Трансформация моделей (MDA)}
\label{sec:mda-transform}

По большому счету MDE не интересует процесс трансформации, т.к. интересует
больше процесс внесения изменений (актуализация категории метамодели).  Но в
целом процесс представляет собой последовательное уточнение описания модели до
конкретных модулей, реализованных в конкретной среде программирования.

\section{Подходы к внесению изменений в модели}
\label{sec:mde-conversions}

В настоящее время выделяются два подхода к реализации трансформации --
[физическое] объединение моделей и распространение изменений.  В первом подходе
на каждом этапе объединения из двух моделей строится одна, при этом общие
концепты сливаются в один.  Второй подход базируются на расслоении категории
метамоделей на отдельные модели, связанные друг с другом через функторы.  Эти
функторы в нотации полисистемного анализа и синтеза реализуют интерпретации
объектов и стрелок (морфизмов).

Процесс объединения моделей (первый случай) состоит из двух шагов -- а) создание
спецификации объединения, и этот этап является творческим, б) собственно
объединение, представляющее собой выполнение алгебраических операций над
моделями с целью построить общий копредел диаграммы (категорию).  Случай
аналогичный этому рассматривается в диссертации д.ф.--м.н. Ковалева Сергея
(ИДСТУ СО РАН выступал в качестве ведущей организации в 2012 году).  Основное
достоинство подхода -- объединение моделей - первый шаг в трансформации: в
результате объединения создается модель модуля, где все функции интегрированы в
модуль, что влечет более оптимизированный программный код (далекий от MDE пример
-- LLVM).  У С. Ковалева в качестве базовой методики проектирования выступало
аспект-ориентированное программирование.

Во втором случае трансформация моделей представляет собой процесс восстановление
сквозной интерпретации концептов и стрелок в расслоении, в случае, если одна из
моделей подверглась изменению.  В частности таким слоем выступает реализованный
в системе программирования модуль.  Актуализация [трансформация] представляет
собой преобразование пары морфизмов (межслойная интерпретация;измененная
структура в слое, рис. ...) в новую пару морфизмов и распространение этой
процедуры на другие слои.  Достоинство подхода -- более естественное для
человека представление метамодельной категории (в виде слоев) и локальная
процедура изменений.

В обоих случаях присутствуют этапы, где необходимо задействовать разработчика.
В первом случае -- формирование спецификации объединения, во втором -- изъятие
недостающей информации при актуализации эпиморфизмов и мономорфизмов.

\section{Построение метамодельной категории}
\label{sec:mmod-construction}

На первоначальном этапе MDE существует проблема первоначального построения
метамодельной категории -- необходимо построить функторы между моделями, т.е.
морфизмы в категории метамодели.  Для этого в предметной области необходимо
выделить концепты и отношения между ними, представить их в виде концептуальной
модели, например, в виде полисистемы онтологий, связать эти концепты и отношения
со структурой остальных моделей.

Разработанный процедуры распознавания концептов на примере рабочих и учебных
программ вуза -- это примеры реализации этой задачи.  По набору примеров
(абзацев), их характеристических свойств, определяется концепт, связь между
концептами, в нашем случае -- это последовательности и зависимости (структурные
и семантические), затем, задаются через отображения в другие слои.  В качестве
трансформации выступает процедура представление системы модулей, всяческие
проверки на полноту (относительно требуемых в слоях отношений между
известными/распознанными концептами), генерация новых версий представлений (по
новым ФОС) и т.п.

\section{Методика построения онтологической модели предметной области}
\label{sec:technique-onto}

Здесь необходимо доделать задачу анализа процесса разработки программы,
фиксируемого в репозитариях типа GIT\@.  Задача состоит в том, чтобы в сообщениях
программистов выделить концепты и построит в слоях семантическую интерпретацию
через указание кусков кода, реализующих интерпретацию этого концепта.

\begin{thebibliography}{9}
\bibitem{CTMDE} Zinovy Diskin, Tom Maibaum. \emph{Category Theory and
    Model-Driven Engineering: From Formal Semantics to Design Patterns and Beyond}. Proceedings of ACCAT 2012
EPTCS 93, U. Golas, T. Soboll (Eds.), 2012, pp. 1–21, doi:10.4204/EPTCS.93.1. URL:\url{http://arxiv.org/pdf/1209.1433.pdf}.
\end{thebibliography}
\end{document}


%%% Local Variables:
%%% TeX-master: t
%%% End:
